/*!
 * angular-toasty
 */
"use strict";angular.module("angular-toasty",[]),angular.module("angular-toasty").directive("toasty",["toasty","$timeout","$sce",function(t,o,n){return{replace:!0,restrict:"EA",scope:!0,link:function(t,a,s){function i(o){o?angular.forEach(t.toasty,function(n,a){n.id==o&&(t.$broadcast("toasty-cleared",t.toasty[a]),n.onRemove&&angular.isFunction(n.onRemove)&&n.onRemove.call(t.toasty[a]),t.toasty.splice(a,1),t.$$phase||t.$digest())}):(angular.forEach(t.toasty,function(o,n){o.onRemove&&angular.isFunction(o.onRemove)&&o.onRemove.call(t.toasty[n])}),t.toasty=[],t.$broadcast("toasty-cleared"))}function e(t,n){t.timeout=o(function(){i(t.id)},n)}function l(t,o,n){return 0!=o[n]&&(!!o[n]||t[n])}function c(o,a){u++;var s,i=l(o,a,"sound"),c=l(o,a,"showClose"),d=l(o,a,"clickToClose"),g=l(o,a,"html"),m=l(o,a,"shake");s=a.theme&&r.indexOf(a.theme)>-1?a.theme:o.theme,t.toasty.length>=o.limit&&t.toasty.shift(),i&&document.getElementById("toasty-sound").play();var f={id:u,title:g?n.trustAsHtml(a.title):a.title,msg:g?n.trustAsHtml(a.msg):a.msg,showClose:c,clickToClose:d,sound:i,shake:m?"toasty-shake":"",html:g,type:"toasty-type-"+a.type,theme:"toasty-theme-"+s,onAdd:a.onAdd&&angular.isFunction(a.onAdd)?a.onAdd:null,onRemove:a.onRemove&&angular.isFunction(a.onRemove)?a.onRemove:null,onClick:a.onClick&&angular.isFunction(a.onClick)?a.onClick:null};t.toasty.push(f),a.onAdd&&angular.isFunction(a.onAdd)&&a.onAdd.call(f),t.$broadcast("toasty-added",f),0!=a.timeout&&(a.timeout||o.timeout)&&e(t.toasty[t.toasty.length-1],a.timeout||o.timeout)}var u=0,r=["default","material","bootstrap"];t.position="",t.toasty=[],t.$on("toasty-new",function(o,n){var a=n.config,s=n.options;t.position||(t.position="toasty-position-"+a.position),c(a,s)}),t.$on("toasty-clear",function(t,o){i(o.id)}),t.close=function(t){i(t)},t.clickToasty=function(o){t.$broadcast("toasty-clicked",o),o.onClick&&angular.isFunction(o.onClick)&&o.onClick.call(o),o.clickToClose&&i(o.id)}},template:'<div id="toasty" ng-class="[position]"><audio id="toasty-sound" ng-src="{{toastyWavSound}}" preload="auto"></audio><div class="toast" ng-repeat="toast in toasty" ng-class="[toast.type, toast.interact, toast.shake, toast.theme]" ng-click="clickToasty(toast)"><div ng-click="close(toast.id)" class="close-button" ng-if="toast.showClose"></div><div ng-if="toast.title || toast.msg" class="toast-text"><span class="toast-title" ng-if="!toast.html && toast.title" ng-bind="toast.title"></span><span class="toast-title" ng-if="toast.html && toast.title" ng-bind-html="toast.title"></span><br ng-if="toast.title && toast.msg" /><span class="toast-msg" ng-if="!toast.html && toast.msg" ng-bind="toast.msg"></span><span class="toast-msg" ng-if="toast.html && toast.msg" ng-bind-html="toast.msg"></span></div></div></div>'}}]),angular.module("angular-toasty").provider("toastyConfig",function(){var t={limit:5,showClose:!0,clickToClose:!1,position:"bottom-right",timeout:5e3,sound:!0,html:!1,shake:!1,theme:"default"},o={};return{setConfig:function(t){o=t},$get:function(){return{config:angular.extend(t,o)}}}}),angular.module("angular-toasty").factory("toasty",["$rootScope","toastyConfig",function(t,o){var n=o.config,a=function(o,a){(angular.isString(o)&&""!=o||angular.isNumber(o))&&(o={title:o.toString()}),o&&(o.title||o.msg)?(o.type=a||"default",t.$broadcast("toasty-new",{config:n,options:o})):console.error("angular-toasty: No toast title or message specified!")};return a["default"]=function(t){a(t)},a.info=function(t){a(t,"info")},a.wait=function(t){a(t,"wait")},a.success=function(t){a(t,"success")},a.error=function(t){a(t,"error")},a.warning=function(t){a(t,"warning")},a.clear=function(o){t.$broadcast("toasty-clear",{id:o})},a.getGlobalConfig=function(){return n},a}]);